<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Sumate al Discord de Transistemas</title>
    <meta name="description" content="Sumate al Discord de Transistemas" />
    <link rel="icon" href="./favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <script>
    // Guarda el token temporal de invitaci√≥n en una cookie segura para conservarlo luego del redirect_uri
    (function storeInviteToken() {
      const url = new URL(window.location.href);
      const token = url.searchParams.get("token");
      if (token) {
        document.cookie = `inviteToken=${token}; Path=/; SameSite=None; Secure`;
      }
    })();
  </script>
  <body>
    <main class="container">
      <h1 class="title">üåà Sumate al Discord de Transistemas üè≥Ô∏è‚Äç‚ößÔ∏è</h1>
      <p class="subtitle">
        Segu√≠ estos pasos para vincular tu cuenta y acceder a los canales
        exclusivos de estudiantes.
      </p>

      <p id="statusMessage" class="status neutral"></p>
      <section class="steps">
        <article class="step">
          <div class="step-header">
            <div class="step-number">1</div>
            <div class="step-content">
              <div class="step-title">Descargar Discord</div>
              <div class="step-description">
                Si todav√≠a no ten√©s Discord instalado descargalo desde la p√°gina
                oficial.
              </div>
            </div>
          </div>
          <div class="step-actions">
            <a
              href="https://discord.com/download"
              target="_blank"
              rel="noreferrer"
              class="button"
            >
              Descargar Discord
            </a>
          </div>
        </article>

        <article class="step">
          <div class="step-header">
            <div class="step-number">2</div>
            <div class="step-content">
              <div class="step-title">
                Unirte al servidor de Discord de Transistemas
              </div>
              <div class="step-description">
                Inici√° sesi√≥n en Discord y sumate al servidor oficial de nuestra
                comunidad.
              </div>
            </div>
          </div>
          <div class="step-actions">
            <a
              href="https://discord.com/invite/yuYpD6QW74"
              target="_blank"
              rel="noreferrer"
              class="button"
            >
              Unirme al servidor de Transistemas
            </a>
          </div>
        </article>

        <article class="step">
          <div class="step-header">
            <div class="step-number">3</div>
            <div class="step-content">
              <div class="step-title">
                Conectar Discord a la API de Transistemas
              </div>
              <div class="step-description">
                La API se encargar√° de obtener tu Discord ID usando OAuth.
              </div>
            </div>
          </div>
          <div class="step-actions">
            <button id="connectButton" class="button">
              Conectar Discord a la API
            </button>
          </div>
        </article>

        <article class="step">
          <div class="step-header">
            <div class="step-number">4</div>
            <div class="step-content">
              <div class="step-title">
                Acceder a canales exclusivos de Estudiantes
              </div>
              <div class="step-description">
                Una vez vinculada tu cuenta, pod√©s solicitar acceso a los
                canales de estudiantes.
              </div>
            </div>
          </div>
          <div class="step-actions">
            <button id="roleButton" class="button secondary" disabled>
              Solicitar acceso a canales de Estudiantes
            </button>
          </div>
        </article>
      </section>
    </main>
    <script src="scripts.js"></script>
  </body>
</html>
